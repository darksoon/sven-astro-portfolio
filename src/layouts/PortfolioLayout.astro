---
// src/layouts/PortfolioLayout.astro
// Layout f√ºr die Hauptseite mit Nav, Background-FX und Footer

import { siteConfig, getMetaDescription } from '@/config/site';
import BaseLayout from './BaseLayout.astro';
import Nav from '../components/Nav.astro';
import Footer from '../components/Footer.astro';

interface Props {
  title: string;
  description?: string;
  lang?: 'de' | 'en';
}

const { 
  title, 
  description = getMetaDescription(undefined, Astro.props.lang || siteConfig.defaults.lang),
  lang = siteConfig.defaults.lang 
} = Astro.props;
---

<BaseLayout title={title} description={description} lang={lang}>
    <slot name="head" slot="head" />
    
    <!-- Animated Background -->
    <div class="bg-grid" transition:persist="bg-grid"></div>
    <div class="bg-glow" transition:persist="bg-glow"></div>

    <Nav transition:persist="nav" />
    
    <main transition:animate="slide">
        <slot />
    </main>

    <Footer transition:persist="footer" />

    <script is:inline src="/scripts/main.js"></script>
</BaseLayout>
