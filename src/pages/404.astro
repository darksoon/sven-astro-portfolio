---
// src/pages/404.astro
// Lustige 404-Fehlerseite mit zufälligem Sarkasmus

import PageLayout from '@/layouts/PageLayout.astro';

// Sarkastische Nachrichten für den Zufallsgenerator
const messages = [
  "Diese Seite hat sich in Luft aufgelöst. Oder nie existiert. Same thing.",
  "404 - Die Seite ist auf einem Server, der keine Seiten hat.",
  "Hier gibt es nichts zu sehen. Außer dieser Fehlermeldung.",
  "Du hast die Matrix durchbrochen... oder einfach nur eine falsche URL eingegeben.",
  "Diese Seite ist gerade in einem Docker-Container gefangen.",
  "Error 404: Motivation zur Seitenerstellung nicht gefunden.",
];

// Zufällige Nachricht auswählen
const randomMessage = messages[Math.floor(Math.random() * messages.length)];

// Übersetzungen
const t = {
  title: {
    de: 'Seite nicht gefunden | Sven Neurath',
    en: 'Page Not Found | Sven Neurath',
  },
  errorCode: {
    de: 'FEHLER',
    en: 'ERROR',
  },
  backButton: {
    de: '← Zurück zur Startseite',
    en: '← Back to Home',
  },
  footerHome: {
    de: 'Zurück zur Startseite',
    en: 'Back to Home',
  },
  copyright: {
    de: `© ${new Date().getFullYear()} Sven Neurath | `,
    en: `© ${new Date().getFullYear()} Sven Neurath | `,
  },
};
---

<PageLayout title={t.title.de} lang="de">
    <div class="error-container">
        <!-- Terminal-Style Error Box -->
        <div class="error-terminal">
            <!-- Terminal Header -->
            <div class="terminal-header">
                <div class="terminal-dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span class="terminal-title">system_error.log</span>
                <span class="terminal-status">CRITICAL</span>
            </div>

            <!-- Terminal Body -->
            <div class="terminal-body">
                <div class="error-code-line">
                    <span class="error-prefix">{t.errorCode.de}</span>
                    <span class="error-number">404</span>
                </div>
                
                <div class="error-divider"></div>
                
                <div class="error-message">
                    <span class="prompt">$</span>
                    <span class="message-text">{randomMessage}</span>
                    <span class="cursor">_</span>
                </div>

                <div class="error-meta">
                    <div class="meta-line">
                        <span class="meta-label">Timestamp:</span>
                        <span class="meta-value">{new Date().toISOString()}</span>
                    </div>
                    <div class="meta-line">
                        <span class="meta-label">Location:</span>
                        <span class="meta-value">/dev/null</span>
                    </div>
                    <div class="meta-line">
                        <span class="meta-label">Status:</span>
                        <span class="meta-value status-blink">PAGE_NOT_FOUND</span>
                    </div>
                </div>
            </div>

            <!-- Terminal Footer mit Button -->
            <div class="terminal-footer">
                <a href="/" class="error-button">
                    <span class="btn-icon">⌂</span>
                    <span class="btn-text" data-de={t.backButton.de} data-en={t.backButton.en}>
                        {t.backButton.de}
                    </span>
                </a>
            </div>
        </div>

        <!-- Decorative Elements -->
        <div class="glitch-overlay" aria-hidden="true"></div>
    </div>
</PageLayout>

<style>
    /* Container */
    .error-container {
        min-height: calc(100vh - 200px);
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 2rem;
        position: relative;
        overflow: hidden;
    }

    /* Terminal-Style Error Box */
    .error-terminal {
        background: rgba(10, 10, 15, 0.95);
        border: 1px solid rgba(255, 51, 102, 0.3);
        border-radius: var(--radius-lg);
        width: 100%;
        max-width: 600px;
        box-shadow: 
            0 0 60px rgba(255, 51, 102, 0.15),
            0 0 120px rgba(255, 51, 102, 0.08),
            0 20px 60px rgba(0, 0, 0, 0.5),
            inset 0 1px 0 rgba(255, 255, 255, 0.05);
        position: relative;
        overflow: hidden;
    }

    /* Neon Border Animation */
    .error-terminal::before {
        content: '';
        position: absolute;
        inset: -1px;
        border-radius: calc(var(--radius-lg) + 1px);
        background: linear-gradient(
            135deg, 
            rgba(255, 51, 102, 0.6) 0%, 
            transparent 30%, 
            transparent 70%, 
            rgba(0, 217, 255, 0.6) 100%
        );
        opacity: 0.4;
        z-index: -1;
        animation: borderPulse 3s ease-in-out infinite alternate;
    }

    @keyframes borderPulse {
        0% { opacity: 0.3; }
        100% { opacity: 0.6; }
    }

    /* Terminal Header */
    .terminal-header {
        background: rgba(255, 51, 102, 0.1);
        padding: 1rem 1.5rem;
        display: flex;
        align-items: center;
        gap: 1rem;
        border-bottom: 1px solid rgba(255, 51, 102, 0.2);
    }

    .terminal-dots {
        display: flex;
        gap: 0.5rem;
    }

    .dot {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        box-shadow: 0 0 8px currentColor;
    }

    .dot.red { 
        background: #ff5f56; 
        color: #ff5f56;
    }
    .dot.yellow { 
        background: #ffbd2e; 
        color: #ffbd2e;
    }
    .dot.green { 
        background: #27c93f; 
        color: #27c93f;
    }

    .terminal-title {
        font-family: 'JetBrains Mono', monospace;
        font-size: 0.85rem;
        color: var(--text-muted);
        flex: 1;
    }

    .terminal-status {
        font-family: 'JetBrains Mono', monospace;
        font-size: 0.75rem;
        color: #ff3366;
        background: rgba(255, 51, 102, 0.15);
        padding: 0.25rem 0.75rem;
        border-radius: var(--radius-sm);
        border: 1px solid rgba(255, 51, 102, 0.3);
        text-shadow: 0 0 8px rgba(255, 51, 102, 0.5);
        animation: statusPulse 2s ease-in-out infinite;
    }

    @keyframes statusPulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.6; }
    }

    /* Terminal Body */
    .terminal-body {
        padding: 2rem 1.5rem;
        font-family: 'JetBrains Mono', monospace;
    }

    /* Error Code */
    .error-code-line {
        display: flex;
        align-items: baseline;
        gap: 0.75rem;
        margin-bottom: 1rem;
    }

    .error-prefix {
        font-size: 1rem;
        color: #ff3366;
        text-shadow: 0 0 10px rgba(255, 51, 102, 0.5);
        font-weight: 600;
        letter-spacing: 2px;
    }

    .error-number {
        font-size: 5rem;
        font-weight: 900;
        color: #ff3366;
        text-shadow: 
            0 0 20px rgba(255, 51, 102, 0.6),
            0 0 40px rgba(255, 51, 102, 0.4),
            0 0 80px rgba(255, 51, 102, 0.2);
        line-height: 1;
        animation: glitchText 3s ease-in-out infinite;
    }

    @keyframes glitchText {
        0%, 90%, 100% { 
            transform: translate(0);
            text-shadow: 
                0 0 20px rgba(255, 51, 102, 0.6),
                0 0 40px rgba(255, 51, 102, 0.4),
                0 0 80px rgba(255, 51, 102, 0.2);
        }
        92% { 
            transform: translate(-2px, 1px);
            text-shadow: 
                0 0 20px rgba(0, 217, 255, 0.6),
                -2px 0 #00d9ff;
        }
        94% { 
            transform: translate(2px, -1px);
            text-shadow: 
                0 0 20px rgba(0, 255, 136, 0.6),
                2px 0 #00ff88;
        }
        96% { 
            transform: translate(-1px, 2px);
            text-shadow: 
                0 0 20px rgba(255, 51, 102, 0.6),
                -1px 0 #ff3366;
        }
        98% { 
            transform: translate(1px, -2px);
            text-shadow: 
                0 0 20px rgba(0, 217, 255, 0.6),
                1px 0 #00d9ff;
        }
    }

    /* Divider */
    .error-divider {
        height: 1px;
        background: linear-gradient(
            90deg,
            transparent,
            rgba(255, 51, 102, 0.5),
            transparent
        );
        margin: 1.5rem 0;
    }

    /* Error Message */
    .error-message {
        display: flex;
        align-items: flex-start;
        gap: 0.75rem;
        margin-bottom: 2rem;
        flex-wrap: wrap;
    }

    .prompt {
        color: var(--accent-cyan);
        font-weight: 600;
        flex-shrink: 0;
    }

    .message-text {
        color: var(--text-secondary);
        font-size: 1rem;
        line-height: 1.6;
        flex: 1;
    }

    .cursor {
        color: var(--accent-cyan);
        animation: blink 1s step-end infinite;
        font-weight: 600;
    }

    @keyframes blink {
        50% { opacity: 0; }
    }

    /* Error Meta */
    .error-meta {
        background: rgba(0, 0, 0, 0.3);
        border-radius: var(--radius-sm);
        padding: 1rem;
        border: 1px solid rgba(255, 255, 255, 0.05);
    }

    .meta-line {
        display: flex;
        gap: 1rem;
        margin-bottom: 0.5rem;
        font-size: 0.8rem;
    }

    .meta-line:last-child {
        margin-bottom: 0;
    }

    .meta-label {
        color: var(--text-muted);
        min-width: 80px;
    }

    .meta-value {
        color: var(--accent-cyan);
    }

    .status-blink {
        animation: statusBlink 1.5s ease-in-out infinite;
    }

    @keyframes statusBlink {
        0%, 100% { 
            color: #ff3366;
            text-shadow: 0 0 8px rgba(255, 51, 102, 0.5);
        }
        50% { 
            color: #ff6b35;
            text-shadow: 0 0 8px rgba(255, 107, 53, 0.5);
        }
    }

    /* Terminal Footer */
    .terminal-footer {
        padding: 1rem 1.5rem 1.5rem;
        display: flex;
        justify-content: center;
    }

    /* Error Button */
    .error-button {
        display: inline-flex;
        align-items: center;
        gap: 0.75rem;
        padding: 0.875rem 2rem;
        background: linear-gradient(135deg, rgba(0, 217, 255, 0.1), rgba(0, 255, 136, 0.1));
        border: 1px solid rgba(0, 217, 255, 0.3);
        border-radius: var(--radius-md);
        color: var(--accent-cyan);
        text-decoration: none;
        font-family: 'JetBrains Mono', monospace;
        font-size: 0.9rem;
        font-weight: 600;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
    }

    .error-button::before {
        content: '';
        position: absolute;
        inset: 0;
        background: linear-gradient(135deg, rgba(0, 217, 255, 0.2), rgba(0, 255, 136, 0.2));
        opacity: 0;
        transition: opacity 0.3s ease;
    }

    .error-button:hover {
        border-color: var(--accent-cyan);
        box-shadow: 
            0 0 30px rgba(0, 217, 255, 0.3),
            0 0 60px rgba(0, 255, 136, 0.15);
        transform: translateY(-2px);
        color: #fff;
    }

    .error-button:hover::before {
        opacity: 1;
    }

    .btn-icon {
        font-size: 1.1rem;
        position: relative;
        z-index: 1;
    }

    .btn-text {
        position: relative;
        z-index: 1;
    }

    /* Glitch Overlay Effect */
    .glitch-overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        pointer-events: none;
        background: repeating-linear-gradient(
            0deg,
            transparent 0px,
            transparent 1px,
            rgba(255, 51, 102, 0.02) 1px,
            rgba(255, 51, 102, 0.02) 2px
        );
        z-index: -1;
    }

    /* Responsive */
    @media (max-width: 600px) {
        .error-container {
            padding: 1rem;
            min-height: calc(100vh - 150px);
        }

        .error-terminal {
            border-radius: var(--radius-md);
        }

        .terminal-body {
            padding: 1.5rem 1rem;
        }

        .error-number {
            font-size: 3.5rem;
        }

        .error-prefix {
            font-size: 0.875rem;
        }

        .message-text {
            font-size: 0.9rem;
        }

        .meta-line {
            flex-direction: column;
            gap: 0.25rem;
        }

        .meta-label {
            min-width: auto;
            color: var(--text-muted);
        }

        .error-button {
            width: 100%;
            justify-content: center;
            padding: 1rem 1.5rem;
        }
    }

    @media (max-width: 400px) {
        .error-number {
            font-size: 3rem;
        }

        .terminal-header {
            padding: 0.75rem 1rem;
        }

        .terminal-title {
            font-size: 0.75rem;
        }

        .terminal-status {
            font-size: 0.65rem;
            padding: 0.2rem 0.5rem;
        }
    }
</style>
